---
layout: plugin

id: M117_estimator
title: M117 Estimator
description: uses M117 command generated by the slicer to update OctoPrints time remaining to an accurate value (Optimized for Cura)
author: Nils Hendrik Rottgardt
license: AGPLv3
date: 2021-02-20
homepage: https://github.com/NilsRo/OctoPrint-M117_estimator
source: https://github.com/NilsRo/OctoPrint-M117_estimator
archive: https://github.com/NilsRo/OctoPrint-M117_estimator/archive/master.zip
follow_dependency_links: false

tags:
- helper
- estimator
- estimation
- time
- print time

compatibility:
  python: ">=2.7,<4"

screenshots:
- url: /assets/img/plugins/M117_estimator/Gcode.png
  alt: Gcode
  caption: Gcode
- url: /assets/img/plugins/M117_estimator/Settings.png
  alt: OctoPrint Settings
  caption: OctoPrint Settings
- url: /assets/img/plugins/M117_estimator/Cura.png
  alt: Cura Settings
  caption: Cura Settings  
---

# M117 Estimator is general way to interpret M117 commands from slicer to set remaining time to print
With this plugin and active Post Processing in e.g. Cura you will get an exact estimation of time remaining as it will set from information analysed in the slicer. So it will be very accurate. Thanks to arhi for the idea and first implementation.

The default configuration matches the syntax of Cura, but you can change it in the plugin configuration according your needs.

Example: For the following command "M117 100% Remaining 1 weeks 6 days ( 07:54:19 )" you can use RegEx "M117 .+ Remaining ([0-9]+) weeks.+" with Match 1 to get the weeks. To get the minutes you should use "M117 .+ Remaining .+\( ([0-9]+):([0-9]+):([0-9]+) \)" and Match 2 to avoid an issue if weeks are not shown. 

I like to suggest regex101.com for testing and to get the right match group.



## Requirement
 * Needs M73 and M117 codes in your G-Code in Cura format which defaults. M73 contains percentage done and M117 remaining time. As percentage done is not processed further it is not really necessary.
 * You have to add Cura Post Processing Script "Display Progress On LCD" and activate "Time Remaining" and "Percentage" to add necessary information to G-Code file. 
## Notes
 * In case there are no M117 codes that can be recognised the original estimator from OctoPrint will be used
 * In case SDCARD print is used the original estimator from OctoPrint will be used
 * The Plugin does not have anything to configure simply install and activate Post Processing in Cura. If no corresponding commands are found standard estimation is used. For other slicers change the RegEx definition in settings.

More configurations can be added, please request additions via a [Github issue](https://github.com/NilsRo/OctoPrint-M117_estimator/issues).
